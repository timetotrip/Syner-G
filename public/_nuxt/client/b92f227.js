(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{452:function(e,t,n){"use strict";n.r(t);n(25);var r={name:"CctShopIndex",components:{CcoShopCreate:n(457).default},data:function(){return{def_sid:"",def_sname:"",def_brand:""}},computed:{defSid:function(){return void 0!==this.$route.query.id?this.$route.query.id:""},defSname:function(){return void 0!==this.$route.query.name?this.$route.query.name:""},defSbrand:function(){return void 0!==this.$route.query.brand?this.$route.query.brand:""}},mounted:function(){console.log("Cct Shop index mounted"),this.$store.dispatch("xd/create/xdcshop/resetCBrand"),this.$store.dispatch("xd/create/xdcshop/setCBrand",this.defSbrand)},beforeDestroy:function(){console.log("Cct Shop index beforeDestroy"),this.$store.dispatch("xd/create/xdcshop/resetCBrand")}},o=n(8),component=Object(o.a)(r,(function(){var e=this.$createElement;return(this._self._c||e)("CcoShopCreate",{attrs:{defid:this.defSid,defname:this.defSname,defbrand:this.defSbrand}})}),[],!1,null,"b2f5aa52",null);t.default=component.exports;installComponents(component,{CcoShopCreate:n(457).default})},457:function(e,t,n){"use strict";n.r(t);var r=n(2);function o(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?o(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):o(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var c=n(55).mapGetters,l={name:"CcoShopCreate",props:{defid:{type:String,default:""},defname:{type:String,default:""},defbrand:{type:String,default:""}},data:function(){return{valid:!0,sname:"",sid:"",sbrand:"",rules:{required:function(e){return!!e||"必ず入力してください"},maxlength:function(e){return e&&e.length<=12||"最長12文字までです"},minlength:function(e){return e&&e.length>=3||"3文字以上入力してください"},textonly:function(e){return/^[a-zA-Z0-9]+$/.test(e)||"英数字のみ使用できます"}}}},computed:d(d({},c("xd/create/xdcshop",["sidValiState"])),{},{isSidVali:function(){return console.log(this.$store.getters["xd/create/xdcshop/sidValiState"]),"ng"!==this.$store.getters["xd/create/xdcshop/sidValiState"]},checkSidValiState:function(){switch(this.$store.getters["xd/create/xdcshop/sidValiState"]){case"ng":return"このIDは使えません";default:return""}},isAllVali:function(){return"ok"===this.$store.getters["xd/create/xdcshop/sidValiState"]&&!!this.valid}}),mounted:function(){console.log("CCO shop mounted"),this.sidValiReset(),this.$refs.form.resetValidation(),""!==this.$props.defid&&(console.log("CCO shop mounted def id "+this.$props.defid),this.sid=this.$props.defid,this.$store.dispatch("xd/create/xdcshop/sidValiSet",this.sid)),""!==this.$props.defname&&(this.sname=this.$props.defname),""!==this.$props.defbrand&&(this.sbrand=this.$props.defbrand)},methods:{onForcus:function(){console.log("COO shop on forcus"),this.sidValiReset()},onChange:function(){console.log("COO shop on onChange"),this.sidValiStart()},sidValiStart:function(){console.log("CCO shop bidValiStart "+this.sid),this.$refs.sidfield.validate()&&this.$store.dispatch("xd/create/xdcshop/sidValiSet",this.sid)},sidValiReset:function(){console.log("CCO shop bidValiReset"),this.$store.dispatch("xd/create/xdcshop/sidValiReset")},addShop:function(){console.log("CCO shop aAddShop "+this.sname),this.$store.dispatch("xd/create/xdcshop/makeBrandShop",{sid:this.sid,sname:this.sname,bid:this.sbrand}),this.$router.push("/create/shop/".concat(this.sid))}}},h=n(8),f=n(21),m=n.n(f),v=n(210),x=n(535),S=n(449),component=Object(h.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("h2",[e._v("オリジナルショップを作ろう")]),e._v("\n  "+e._s(this.$props.defbrand)+"\n  "),n("v-text-field",{ref:"sidfield",attrs:{label:"ショップID",counter:"12",rules:[e.rules.required,e.rules.maxlength,e.rules.minlength,e.rules.textonly],outlined:""},on:{focus:function(t){return e.onForcus()},change:function(t){return e.onChange()}},model:{value:e.sid,callback:function(t){e.sid=t},expression:"sid"}}),e._v(" "),n("p",[e._v(e._s(e.checkSidValiState))]),e._v(" "),n("p",[e._v("ショップIDはオンラインショップのURLになるんだ")]),e._v(" "),n("p",[e._v("他のショップと被らないIDをつけてね")]),e._v(" "),n("v-text-field",{ref:"snamefield",attrs:{label:"ショップ名",counter:"12",rules:[e.rules.required],outlined:""},model:{value:e.sname,callback:function(t){e.sname=t},expression:"sname"}}),e._v(" "),n("p",[e._v("ブランドごとにオンラインショップができるよ")]),e._v(" "),n("p",[e._v("プロダクトを創ってして販売しちゃおう")]),e._v(" "),n("v-btn",{attrs:{disabled:!e.isAllVali},on:{click:function(t){return e.addShop()}}},[e._v("\n    追加\n  ")])],1)}),[],!1,null,"28e227ca",null);t.default=component.exports;m()(component,{VBtn:v.a,VForm:x.a,VTextField:S.a})},539:function(e,t,n){"use strict";n.r(t);var r={components:{CctShopIndex:n(452).default},layout:"create"},o=n(8),component=Object(o.a)(r,(function(){var e=this.$createElement;return(this._self._c||e)("CctShopIndex")}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{CctShopIndex:n(452).default})}}]);